<!DOCTYPE html>
<html lang="hi" class="has-navbar-fixed-top">
  <head>
    <!-- Analytics -->
    <script
      data-collect-dnt="true"
      async
      src="https://scripts.simpleanalyticscdn.com/latest.js"
    ></script>
    <noscript
      ><img
        src="https://queue.simpleanalyticscdn.com/noscript.gif?collect-dnt=true"
        alt=""
        referrerpolicy="no-referrer-when-downgrade"
    /></noscript>

    <!-- Basic Meta Tags -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- SEO Meta Tags -->
    {% if page %}
    <title>{{ page.title }} - {{ config.title }}</title>
    <meta
      name="description"
      content="{% if page.description %}{{ page.description }}{% elif page.summary %}{{ page.summary | striptags | truncate(length=155) }}{% else %}{{ config.description }}{% endif %}"
    />
    {% if page.extra.keywords %}
    <meta name="keywords" content="{{ page.extra.keywords }}" />
    {% endif %}
    <meta
      name="author"
      content="{% if page.extra.author %}{{ page.extra.author }}{% else %}{{ config.title }}{% endif %}"
    />
    {% if page.date %}
    <meta
      name="article:published_time"
      content="{{ page.date | date(format='%Y-%m-%d') }}"
    />
    {% endif %} {% if page.updated %}
    <meta
      name="article:modified_time"
      content="{{ page.updated | date(format='%Y-%m-%d') }}"
    />
    {% endif %} {% elif section %}
    <title>
      {% if section.title %}{{ section.title }} - {{ config.title }}{% else %}{{
      config.title }}{% endif %}
    </title>
    <meta
      name="description"
      content="{% if section.description %}{{ section.description }}{% else %}{{ config.description }}{% endif %}"
    />
    {% else %}
    <title>{{ config.title }}</title>
    <meta name="description" content="{{ config.description }}" />
    <meta
      name="keywords"
      content="IGNOU, असाइनमेंट, इग्नू, भारतीय शिक्षा, दूरस्थ शिक्षा, assignments"
    />
    {% endif %}

    <!-- Canonical URL -->
    {% if page %}
    <link rel="canonical" href="{{ page.permalink | safe }}" />
    {% elif section %}
    <link rel="canonical" href="{{ section.permalink | safe }}" />
    {% else %}
    <link rel="canonical" href="{{ config.base_url | safe }}" />
    {% endif %}

    <!-- Open Graph Meta Tags -->
    <meta property="og:site_name" content="{{ config.title }}" />
    {% if page %}
    <meta property="og:title" content="{{ page.title }}" />
    <meta
      property="og:description"
      content="{% if page.description %}{{ page.description }}{% elif page.summary %}{{ page.summary | striptags | truncate(length=155) }}{% else %}{{ config.description }}{% endif %}"
    />
    <meta property="og:url" content="{{ page.permalink | safe }}" />
    <meta property="og:type" content="article" />
    {% if page.date %}
    <meta
      property="article:published_time"
      content="{{ page.date | date(format='%Y-%m-%dT%H:%M:%S') }}Z"
    />
    {% endif %} {% if page.taxonomies.tags %} {% for tag in page.taxonomies.tags
    %}
    <meta property="article:tag" content="{{ tag }}" />
    {% endfor %} {% endif %} {% else %}
    <meta
      property="og:title"
      content="{% if section.title %}{{ section.title }}{% else %}{{ config.title }}{% endif %}"
    />
    <meta
      property="og:description"
      content="{% if section.description %}{{ section.description }}{% else %}{{ config.description }}{% endif %}"
    />
    <meta
      property="og:url"
      content="{% if section %}{{ section.permalink | safe }}{% else %}{{ config.base_url | safe }}{% endif %}"
    />
    <meta property="og:type" content="website" />
    {% endif %}
    <meta property="og:locale" content="hi_IN" />

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="{{ config.title }}" />
    {% if page %}
    <meta name="twitter:title" content="{{ page.title }}" />
    <meta
      name="twitter:description"
      content="{% if page.description %}{{ page.description }}{% elif page.summary %}{{ page.summary | striptags | truncate(length=155) }}{% else %}{{ config.description }}{% endif %}"
    />
    {% else %}
    <meta
      name="twitter:title"
      content="{% if section.title %}{{ section.title }}{% else %}{{ config.title }}{% endif %}"
    />
    <meta
      name="twitter:description"
      content="{% if section.description %}{{ section.description }}{% else %}{{ config.description }}{% endif %}"
    />
    {% endif %}

    <!-- Robots Meta -->
    <meta
      name="robots"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />

    <!-- Language and Geo Tags -->
    <meta name="language" content="Hindi" />
    <meta name="geo.region" content="IN" />
    <meta name="geo.country" content="India" />

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

    <!-- Stylesheets -->
    <link rel="stylesheet" href="/app.css" />
    <link href="/pagefind/pagefind-ui.css" rel="stylesheet" />

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://scripts.simpleanalyticscdn.com" />

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "{% if page %}Article{% else %}WebSite{% endif %}",
        {% if page %}
          "headline": "{{ page.title }}",
          "description": "{% if page.description %}{{ page.description }}{% elif page.summary %}{{ page.summary | striptags | truncate(length=155) }}{% else %}{{ config.description }}{% endif %}",
          "url": "{{ page.permalink | safe }}",
          "datePublished": "{% if page.date %}{{ page.date | date(format='%Y-%m-%d') }}{% endif %}",
          {% if page.updated %}"dateModified": "{{ page.updated | date(format='%Y-%m-%d') }}",{% endif %}
          "author": {
            "@type": "Person",
            "name": "{% if page.extra.author %}{{ page.extra.author }}{% else %}{{ config.title }}{% endif %}"
          },
          "publisher": {
            "@type": "Organization",
            "name": "{{ config.title }}",
            "url": "{{ config.base_url | safe }}"
          },
          "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "{{ page.permalink | safe }}"
          },
          "inLanguage": "hi"
        {% else %}
          "name": "{{ config.title }}",
          "description": "{{ config.description }}",
          "url": "{{ config.base_url | safe }}",
          "inLanguage": "hi",
          "publisher": {
            "@type": "Organization",
            "name": "{{ config.title }}",
            "url": "{{ config.base_url | safe }}"
          }
        {% endif %}
      }
    </script>
  </head>
  <body>
    <!-- Navigation with structured data -->
    <nav
      class="navbar is-fixed-top is-dark"
      role="navigation"
      aria-label="main navigation"
    >
      <div class="navbar-brand">
        <a
          class="navbar-item"
          href="/"
          itemscope
          itemtype="https://schema.org/Organization"
        >
          <span class="has-text-weight-bold" itemprop="name"
            >{{ config.title }}</span
          >
        </a>
      </div>
      <div class="navbar-menu">
        <div class="navbar-start">
          <a class="navbar-item" href="/blog/">ब्लॉग</a>
          <a class="navbar-item" href="/about/">हमारे बारे में</a>
          <a class="navbar-item" href="/contact/">संपर्क</a>
        </div>
        <div class="navbar-end">
          <div class="navbar-item">
            <button
              id="search-trigger-button"
              class="button is-light"
              aria-label="साइट खोजें"
            >
              खोजें
            </button>
          </div>
        </div>
      </div>
    </nav>

    <main class="section" role="main">
      <div class="container">{% block content %} {% endblock %}</div>
    </main>

    <footer class="footer" role="contentinfo">
      <div class="content has-text-centered">
        <p>&copy; 2025 {{ config.title }}. All rights reserved.</p>
        <p>
          <small
            >IGNOU असाइनमेंट और शिक्षा संबंधी जानकारी के लिए आपका विश्वसनीय
            स्रोत</small
          >
        </p>
      </div>
    </footer>

    <!-- Bulma Modal for Search -->
    <div
      id="search-modal"
      class="modal"
      role="dialog"
      aria-labelledby="search-title"
      aria-hidden="true"
    >
      <div class="modal-background"></div>
      <div class="modal-content">
        <div class="box">
          <h2 id="search-title" class="title is-4">साइट खोजें</h2>
          <div id="search-container"></div>
        </div>
      </div>
      <button class="modal-close is-large" aria-label="बंद करें"></button>
    </div>

    <script src="/pagefind/pagefind-ui.js"></script>
    <script>
      window.addEventListener("DOMContentLoaded", (event) => {
        new PagefindUI({
          element: "#search-container",
          showSubResults: true,
        });

        const triggerButton = document.getElementById("search-trigger-button");
        const searchModal = document.getElementById("search-modal");
        const closeModalButton = searchModal.querySelector(".modal-close");
        const modalBackground = searchModal.querySelector(".modal-background");

        function openModal() {
          searchModal.classList.add("is-active");
          searchModal.setAttribute("aria-hidden", "false");
          const searchInput = searchModal.querySelector(
            ".pagefind-ui__search-input"
          );
          if (searchInput) {
            setTimeout(() => searchInput.focus(), 100);
          }
        }

        function closeModal() {
          searchModal.classList.remove("is-active");
          searchModal.setAttribute("aria-hidden", "true");
        }

        triggerButton.addEventListener("click", openModal);
        closeModalButton.addEventListener("click", closeModal);
        modalBackground.addEventListener("click", closeModal);

        document.addEventListener("keydown", function (event) {
          if (event.key === "Escape") {
            closeModal();
          }
        });
      });
    </script>
  </body>
</html>
